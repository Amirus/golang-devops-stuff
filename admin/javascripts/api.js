!function(){var e;window.InfluxDB=e=function(){function e(e,t,n,r,i){this.host=e,this.port=t,this.username=n,this.password=r,this.database=i}return e.prototype.createDatabase=function(e,t){var n,r;return r=this.url("db"),n={name:e},$.post(r,JSON.stringify(n),t)},e.prototype.deleteDatabase=function(e){var t;return t=this.url("db/"+e),$.ajax({type:"DELETE",url:t})},e.prototype.getDatabases=function(){var e;return e=this.url("dbs"),$.get(e)},e.prototype.getClusterAdmins=function(){var e;return e=this.url("cluster_admins"),$.get(e)},e.prototype.authenticateClusterAdmin=function(){var e;return e=this.url("cluster_admins/authenticate"),$.get(e)},e.prototype.authenticateDatabaseAdmin=function(e){var t;return t=this.url("db/"+e+"/authenticate"),$.get(t)},e.prototype.createClusterAdmin=function(e,t){var n,r;return n={username:e,password:t},r=this.url("cluster_admins"),$.post(r,JSON.stringify(n))},e.prototype.createUser=function(e,t,n,r){var i,o;return o=this.url("db/"+e+"/users"),i={username:t,password:n},$.post(o,JSON.stringify(i),r)},e.prototype.readPoint=function(e,t,n){var r,i;return i=this.url("db/"+this.database+"/series"),r="SELECT "+e+" FROM "+t+";",i+="&q="+encodeURIComponent(r),$.get(i,null,n)},e.prototype._readPoint=function(e,t){var n;return n=this.seriesUrl(this.database),n+="&q="+encodeURIComponent(e),$.get(n,{},t)},e.prototype.writePoint=function(e,t,n,r){var i,o,s,a,u,c;null==n&&(n={}),o={points:[],name:e,columns:[]},a=[];for(s in t)c=t[s],a.push(c),o.columns.push(s);return o.points.push(a),i=[o],u=this.seriesUrl(this.database),$.post(u,JSON.stringify(i),r)},e.prototype.url=function(e){return"http://"+this.host+":"+this.port+"/"+e+"?u="+this.username+"&p="+this.password},e.prototype.seriesUrl=function(e){return this.url("db/"+e+"/series")},e}()}.call(this);